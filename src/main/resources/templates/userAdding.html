<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link type="text/css" rel="stylesheet" href="/css/styles.css" th:href="@{/css/styles.css}" /> 
<script src="https://kit.fontawesome.com/17a4ce7e95.js"></script>
<title th:text="#{add_user}">Add user</title>
</head>
<body>
	<header>
		<div class="nav" th:replace="generals/nav :: navbar"></div>
	</header>
	
	<div class="d-flex justify-content-between container">
		<div class="flex-item">
			<div class="side-container"></div>
		</div>
		<div class="flex-item login-container">
			<div class="content">
				<div>
					<h2 th:text="#{add_user}">Add user</h2>
				</div>
				<form th:object="${signupform}" th:action="@{/users/createuser}" action="#" method="post">
					<div>
						<label for="username" th:text="#{username}"> Username:</label>
						<input id="username" type="text" th:field="*{username}" class="form-control" th:placeholder="#{username}" placeholder="Username" required />
						<small class="input-helper" th:text="#{uname_info}">Usernames are set to lower case!</small>
						<p th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</p>	
					</div>
					<div>
						<label for="email" th:text="#{email}"> Email:</label>
						<input id="email" type="email" th:field="*{email}" class="form-control" th:placeholder="#{email}" placeholder="E-mail" required />
						<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</p>	
					</div>
					<div>
						<label for="password" th:text="#{password}"> Password:</label>
						<input id="password" type="password" th:field="*{password}" class="form-control" th:placeholder="#{password}" placeholder="Password" required />
						<small class="input-helper" th:text="#{pword_info}">Password must be 7 to 30 characters long!</small>
						<p th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</p>	
					</div>
					<div>
						<label for="password-check" th:text="#{re_pword}"> Re-type Password: </label>
						<input id="password-check" type="password" th:field="*{passwordCheck}" class="form-control" th:placeholder="#{password_check}" placeholder="Re-type password" required />
						<p th:if="${#fields.hasErrors('passwordCheck')}" th:errors="*{passwordCheck}">Password Match Error</p>	
					</div>
					<div>
						<label for="role" th:text="#{role}">Role</label>
						<select id="role" th:field="*{role}" class="form-control">
							<option selected value="USER">USER</option>
							<option value="ADMIN">ADMIN</option>
						</select>
					</div>
					<div class="clear-3"></div>
					<input type="submit" class="btn btn-quarter-light" th:value="#{signup}" value="Signup"></input>		
				</form>
			</div>
		</div>
		<div class="flex-item">
			<div class="side-container"></div>
		</div>
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
	</script>
	<script type="text/javascript">
	$(document).ready(function() {
	    $("#locales").change(function () {
	        var selectedOption = $('#locales').val();
	        if (selectedOption != ''){
	            window.location.assign('?lang=' + selectedOption);
	        }
	    });
	});
	</script>
</body>
</html>